webpackJsonp([1],{"5eII":function(t,e){},"69a4":function(t,e){},"79Ws":function(t,e){},"8/Kl":function(t,e){},A5g2:function(t,e){},EfIp:function(t,e){},H0MZ:function(t,e){},IzPh:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),o={name:"App",computed:{user:function(){return this.$store.state.user}},created:function(){var t=this;this.$store.dispatch("endDemo"),window.addEventListener("beforeunload",function(){"demo@demo.com"==t.$store.state.user.email&&(t.$store.dispatch("endDemo"),t.$store.dispatch("signOut"))})},methods:{login:function(){this.$router.push({name:"User"})},signOut:function(){this.$store.dispatch("signOut")}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"navbar navbar-dark bg-primary top-header format"},[s("a",{staticClass:"navbar-left",attrs:{href:"#"}},[s("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"Home"}}},[s("a",[t._v("Home")])]),t._v(" "),s("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"myTrips"}}},[s("a",[t._v("My Trips")])])],1),t._v(" "),s("img",{attrs:{src:i("lvYX"),width:"280px"}}),t._v(" "),t.user._id?t._e():s("a",{staticClass:"navbar-brand",on:{click:t.login}},[s("button",{staticClass:"btn btn-outline-light",attrs:{type:"button"}},[t._v("Sign In/Login")])]),t._v(" "),t.user._id?s("div",{staticClass:"d-flex flex-column"},[s("a",{staticClass:"navbar-brand"},[t._v("User: "+t._s(t.user.displayName))]),t._v(" "),s("a",{staticClass:"navbar-brand btn btn-outline-light",on:{click:t.signOut}},[t._v("Sign out")])]):t._e()]),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var a=i("VU/8")(o,n,!1,function(t){i("R9mz")},null,null).exports,r=i("/ocq"),c={name:"Destination",data:function(){return{destination:{},trip:{}}},mounted:function(){this.$store.state.user._id||this.$router.push({name:"User"})},computed:{activeDest:function(){return this.$store.state.activeDest},trips:function(){return this.$store.state.userTrips},todos:function(){return this.$store.state.userTodos}},methods:{addDestination:function(t){this.$store.dispatch("selectActiveTrip",this.trip),this.$store.dispatch("addDestination",t),alert("Destination added to your trip")}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"destination"},[i("div",[i("h2",[t._v(t._s(t.activeDest.title))]),t._v(" "),i("img",{attrs:{src:t.activeDest.photo,alt:""}}),t._v(" "),t._l(t.todos,function(e){return i("div",{key:e._id},[i("img",{attrs:{src:e.photo,alt:""}}),t._v(" "),i("p",[t._v(t._s(e.title))])])})],2),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.trip,expression:"trip"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.trip=e.target.multiple?i:i[0]}}},[i("option",{attrs:{disabled:"",value:""}},[t._v("Add Destination to Trip: ")]),t._v(" "),t._l(t.trips,function(e){return i("option",{key:e._id,domProps:{value:e}},[t._v(t._s(e.title))])})],2),t._v(" "),i("button",{on:{click:function(e){t.addDestination(t.activeDest)}}},[t._v("Add destination to trip: ")])])},staticRenderFns:[]};var l=i("VU/8")(c,d,!1,function(t){i("l/3M")},"data-v-2ef7e0d0",null).exports,u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-trip"},[i("div",{staticClass:"mb-2 mt-2"},[i("h4",[t._v("First Trip?")]),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success btn-sm",attrs:{type:"submit"},on:{click:t.newTrip}},[t._v("Click Here")]),t._v(" To Create A New Trip")]),t._v(" "),t.toggleForm?i("div",{staticClass:"create-trip"},[i("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.createTrip(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.title,expression:"trip.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" Title",id:"email"},domProps:{value:t.trip.title},on:{input:function(e){e.target.composing||t.$set(t.trip,"title",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.description,expression:"trip.description"}],staticClass:"input mt-2",attrs:{type:"text",name:"description",placeholder:" Description",id:"name"},domProps:{value:t.trip.description},on:{input:function(e){e.target.composing||t.$set(t.trip,"description",e.target.value)}}}),t._v(" "),i("div",{staticClass:"mb-2"}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success mb-2",attrs:{type:"submit"}},[t._v("Create")])])]):t._e()])},staticRenderFns:[]};var p=i("VU/8")({name:"myTrip",data:function(){return{trip:{title:"",description:""},toggleForm:!1}},mounted:function(){},computed:{},methods:{createTrip:function(){this.$store.dispatch("createTrip",this.trip),this.toggleForm=!this.toggleForm},newTrip:function(){this.toggleForm=!this.toggleForm}}},u,!1,function(t){i("8/Kl")},"data-v-0ab1e979",null).exports,m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"create-trip col-md-9 "},[i("center",[i("button",{staticClass:"btn btn-primary btn-success mt-3 mb-2",on:{click:t.newTrip}},[t._v("Start New Trip")])]),t._v(" "),t.toggleForm?i("div",{staticClass:"create-trip"},[i("form",{staticClass:"form bgform",on:{submit:function(e){return e.preventDefault(),t.createTrip(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.title,expression:"trip.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" Title",id:"email"},domProps:{value:t.trip.title},on:{input:function(e){e.target.composing||t.$set(t.trip,"title",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.trip.description,expression:"trip.description"}],staticClass:"input mt-2",attrs:{type:"text",name:"description",placeholder:" Description",id:"name"},domProps:{value:t.trip.description},on:{input:function(e){e.target.composing||t.$set(t.trip,"description",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success mb-2 mt-2",attrs:{type:"submit"}},[t._v("Create")])])]):t._e()],1)])},staticRenderFns:[]};var v=i("VU/8")({name:"CreateTrip",data:function(){return{trip:{title:"",description:""},toggleForm:!1}},mounted:function(){this.$store.state.user._id||this.$router.push({name:"User"})},computed:{},methods:{createTrip:function(){this.$store.dispatch("createTrip",this.trip),this.toggleForm=!this.toggleForm},newTrip:function(){this.toggleForm=!this.toggleForm}}},m,!1,function(t){i("5eII")},"data-v-755edb82",null).exports,h={name:"Home",data:function(){return{destination:{title:""},trip:{}}},components:{destination:l,mytrip:p,createTrip:v},computed:{userResults:function(){return this.$store.state.userResults},apiResults:function(){return this.$store.state.apiResults},trips:function(){var t=this.$store.state.userTrips;return console.log(t,"this trips"),t}},mounted:function(){this.$store.state.user._id||tt.push({name:"User"}),this.$store.dispatch("getUsersTrips"),this.$store.dispatch("clearResults")},methods:{getResults:function(){console.log(this.destination),this.$store.dispatch("findDestination",this.destination.title),this.title=""},addDestination:function(t){this.$store.dispatch("selectActiveTrip",this.trip),this.$store.dispatch("addDestination",t)},selectActiveDest:function(t){this.$store.dispatch("selectActiveDest",t),this.$router.push("Destination")}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("section",{staticClass:"search vertical-center jumbotron bghome"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"textcolor mgmenu"},[i("div",{staticClass:"row justify-content-center mx-auto bgmenu"},[i("div",{staticClass:"col-sm-2 justify-content-center"},[i("create-trip")],1),t._v(" "),i("div",{staticClass:"col-sm-2 mt-2 mb-2"},[i("h5",[t._v("Select Existing Trip")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.trip,expression:"trip"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.trip=e.target.multiple?i:i[0]}}},[i("option",{attrs:{disabled:"",value:""}},[t._v("Add Destination to Trip: ")]),t._v(" "),t._l(t.trips,function(e){return i("option",{key:e._id,domProps:{value:e}},[t._v(t._s(e.title))])})],2)]),t._v(" "),i("div",{staticClass:"col-sm-2 mt-2 ml-4"},[i("form",{on:{submit:function(e){return e.preventDefault(),t.getResults(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.title,expression:"destination.title"}],attrs:{type:"text",name:"destination",id:"destination",placeholder:" Where To?"},domProps:{value:t.destination.title},on:{input:function(e){e.target.composing||t.$set(t.destination,"title",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success btn-sm mt-2 mb-2",attrs:{type:"submit"}},[t._v("Search")])])])])]),t._v(" "),i("div",{staticClass:"rowing ur mt-2"},t._l(t.userResults,function(e){return i("div",{key:e._id,staticClass:"column userResults"},[i("img",{attrs:{src:e.photo,alt:""}}),t._v(" "),i("div",{staticClass:"test"},[i("a",{on:{click:function(i){t.selectActiveDest(e)}}},[i("strong",[t._v(t._s(e.title))])])]),t._v(" "),i("p",[t._v("Author: "+t._s(e.author))])])})),t._v(" "),i("div",{staticClass:"rowing gr mt-2"},[i("div",{staticClass:"column googleResults d-flex flex-row flex-wrap"},t._l(t.apiResults,function(e){return i("div",{key:e._id},[i("img",{attrs:{src:e.photo,alt:""}}),t._v(" "),i("div",{staticClass:"test"},[i("strong",[t._v(t._s(e.name))]),t._v(" "),0!=t.trips.length?i("button",{staticClass:"btn btn-primary btn-success btn-sm",on:{click:function(i){t.addDestination(e)}}},[t._v("Add To Trip")]):t._e()]),t._v(" "),0==t.trips.length?i("mytrip"):t._e()],1)}))])])])])},staticRenderFns:[]};var f=i("VU/8")(h,g,!1,function(t){i("krmI")},"data-v-28e790f6",null).exports,_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user jumbotron jumbotron-fluid bgImg"},[i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-6 card"},[t.showLogin?i("div",{staticClass:"login"},[i("h1",[t._v("Login")]),t._v(" "),i("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"email",name:"email",placeholder:" e-mail",id:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input",attrs:{type:"password",name:"password",placeholder:" password",id:"name"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Login")])]),t._v(" "),i("br"),t._v(" "),i("div",[i("p",[t._v("Click to start "),i("button",{staticClass:"btn btn-success",on:{click:t.demoLogin}},[t._v("Demo")])])]),t._v(" "),i("br"),t._v(" "),i("p",{staticClass:"user"},[t._v("Not a user?\n        "),i("em",{on:{click:t.toggle}},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button"}},[t._v("Register")])])])]):t._e(),t._v(" "),t.showLogin?t._e():i("div",{staticClass:"register"},[i("h1",[t._v("Register")]),t._v(" "),i("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"email",name:"email",placeholder:" e-mail",id:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.displayName,expression:"user.displayName"}],staticClass:"input",attrs:{type:"text",name:"name",placeholder:"name",id:"name"},domProps:{value:t.user.displayName},on:{input:function(e){e.target.composing||t.$set(t.user,"displayName",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input",attrs:{type:"password",name:"password",placeholder:"password",id:"name"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-danger",attrs:{type:"submit"}},[t._v("Register")])]),t._v(" "),i("br"),t._v(" "),i("div"),t._v(" "),i("br"),t._v(" "),i("p",[t._v("Already a user?\n        "),i("em",{on:{click:t.toggle}},[i("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Login")])])])])])])])},staticRenderFns:[]};var b=i("VU/8")({name:"",mounted:function(){this.$store.dispatch("authenticate")},data:function(){return{user:{email:"",displayName:"",password:""},demo:{email:"demo@demo.com",displayName:"Demo",password:"12345"},showLogin:!0}},computed:{currentUser:function(){return this.$store.state.user}},methods:{demoLogin:function(){this.$store.dispatch("login",this.demo)},login:function(){this.$store.dispatch("login",this.user)},register:function(){this.$store.dispatch("register",this.user)},toggle:function(){this.showLogin=!this.showLogin}}},_,!1,function(t){i("EfIp")},"data-v-72cf3838",null).exports,C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.apiResults?i("div",{staticClass:"search-destinations"},t._l(t.apiResults,function(e){return i("div",{key:e._id,staticClass:"result text-center"},[i("a",{on:{click:function(i){t.addDestination(e)}}},[i("p",{staticClass:"result-name"},[i("strong",[t._v(t._s(e.name))]),t._v(" - "+t._s(e.formatted_address))])])])})):t._e()},staticRenderFns:[]};var y={name:"addDestination",mounted:function(){this.$store.dispatch("getTripDestinations",this.$route.params.id)},components:{searchResults:i("VU/8")({name:"searchResults",data:function(){return{}},mounted:function(){},computed:{apiResults:function(){return this.$store.state.apiResults}},methods:{addDestination:function(t){this.$store.dispatch("addDestination",t),this.$store.dispatch("clearResults")}}},C,!1,function(t){i("UviW")},null,null).exports},data:function(){return{toggleForm:!1,query:"",placeholder:" Where to?"}},computed:{currentTrip:function(){return this.$store.state.activeTrip}},methods:{toggleCreate:function(){this.toggleForm=!this.toggleForm},getDestination:function(){var t=this.query;this.$store.dispatch("findDestination",t),this.query="",this.placeholder=t}}},T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add-destination tracker"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("h1",[t._v(" "+t._s(t.currentTrip.title))])])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col mb-2 search-box"},[i("div",{staticClass:"d-flex flex-row justify-content-center"},[i("div",[i("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.getDestination(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:t.placeholder,id:"email"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"results"},[i("search-results")],1)]),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success submit-btn",on:{click:t.getDestination}},[t._v("Search")])])])])])},staticRenderFns:[]};var $=i("VU/8")(y,T,!1,function(t){i("IzPh")},"data-v-24ab511a",null).exports,D={name:"edit-destination",props:{destination:{type:Object,required:!0}},mounted:function(){this.edit={title:this.destination.title,photo:this.destination.photo,place_id:this.destination.place_id,published:this.destination.published,tripId:this.destination.tripId,userId:this.destination.userId,lat:this.destination.lat,long:this.destination.long,_id:this.destination._id}},data:function(){return{editBool:!1,edit:{title:"",photo:"",place_id:"",published:"",tripId:"",userId:"",lat:"",long:"",_id:""}}},computed:{destinations:function(){return this.$store.state.destinations}},methods:{selectActiveDest:function(t){this.$store.dispatch("selectActiveDest",t)},deleteDest:function(t){this.$store.dispatch("deleteDest",t)},publishDest:function(t){t.published=!t.published,this.$store.dispatch("editDest",t)},toggleEdit:function(){this.editBool=!this.editBool},editDestination:function(t){var e={title:t.title,photo:t.photo,place_id:t.place_id,published:t.published,tripId:t.tripId,userId:t.userId,lat:t.lat,long:t.long,_id:t._id};this.$store.dispatch("editDest",e),this.editBool=!this.editBool},updateDest:function(){this.$emit("setDest",this.edit)}}},w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit-destination"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"card"},[i("img",{staticClass:"card-img-top",attrs:{src:t.destination.photo,alt:"Card image cap"}}),t._v(" "),i("router-link",{key:t.destination._id,attrs:{to:{name:"myDestination",params:{id:t.destination._id}}},nativeOn:{click:function(e){t.selectActiveDest(t.destination)}}},[i("div",{staticClass:"card-body"},[i("h5",{staticClass:"card-title"},[t._v(t._s(t.destination.title))]),t._v(" "),i("p",[t._v("Author: "+t._s(t.destination.author))])])]),t._v(" "),i("div",{staticClass:"card-text"},[i("button",{staticClass:"btn btn-success",on:{click:t.toggleEdit}},[t._v("Edit")]),t._v(" "),t.editBool?i("form",{staticClass:"form bgform d-flex flex-column",staticStyle:{width:"80%",margin:"auto"},on:{keyup:t.updateDest,submit:function(e){e.preventDefault(),t.editDestination(t.edit)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.edit.title,expression:"edit.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" Title",id:"title"},domProps:{value:t.edit.title},on:{input:function(e){e.target.composing||t.$set(t.edit,"title",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.edit.photo,expression:"edit.photo"}],staticClass:"input mt-2",attrs:{type:"text",name:"description",placeholder:" Description",id:"name"},domProps:{value:t.edit.photo},on:{input:function(e){e.target.composing||t.$set(t.edit,"photo",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success mb-2 mt-2",attrs:{type:"submit"}},[t._v("Submit")])]):t._e(),t._v(" "),t.destination.published?t._e():i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.publishDest(t.destination)}}},[t._v("Publish")]),t._v(" "),t.destination.published?t._e():i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.publishDest(t.destination)}}},[t._v("Unpublish")]),t._v(" "),i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.deleteDest(t.destination)}}},[t._v("Cancel")])])],1)])])])},staticRenderFns:[]};var x=i("VU/8")(D,w,!1,function(t){i("OOZ5")},"data-v-550c557b",null).exports,k={name:"googleMap",props:{coords:{type:Array,required:!0},name:{type:String,required:!0}},mounted:function(){},updated:function(){this.buildMap()},data:function(){return{mapName:this.name+"-map",coordinates:this.coords,markers:[],bounds:null,map:null}},computed:{},methods:{buildMap:function(){var t=this;this.bounds=new google.maps.LatLngBounds;var e=document.getElementById(this.mapName);this.map=new google.maps.Map(e),this.coords.forEach(function(e){var i=new google.maps.LatLng(e.lat,e.long),s=new google.maps.Marker({position:i,map:t.map,animation:google.maps.Animation.DROP,destination:e});"destination"==t.name&&google.maps.event.addListener(s,"click",function(e){t.selectActiveDest(s.destination)}),t.markers.push(s),t.map.fitBounds(t.bounds.extend(i))}),this.map.setCenter(this.bounds.getCenter()),1==this.coords.length&&"destination"==this.name&&this.map.setZoom(10)},selectActiveDest:function(t){this.$store.dispatch("selectActiveDest",t),this.$router.push({name:"myDestination",params:{id:t._id}})}}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return this.coords.length>0?e("div",{staticClass:"map"},[e("div",{staticClass:"google-map",attrs:{id:this.mapName}})]):this._e()},staticRenderFns:[]};var R=i("VU/8")(k,I,!1,function(t){i("P7Wb")},null,null).exports,A={name:"Trip",mounted:function(){this.$store.dispatch("clearResults")},components:{addDestination:$,editDestination:x,googleMap:R},data:function(){return{}},computed:{destinations:function(){return console.log(this.$store.state.destinations,"destinations"),this.$store.state.destinations}},methods:{selectActiveDest:function(t){this.$store.dispatch("selectActiveDest",t)},deleteDest:function(t){this.$store.dispatch("deleteDest",t)},publishDest:function(t){t.published=!t.published,this.$store.dispatch("editDest",t)},setDest:function(t){var e=this.destinations.findIndex(function(e){return e._id==t._id});this.destinations.splice(e,1,t)}}},N={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"trip"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col add-destination mb-2"},[i("add-destination")],1)]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 text-center mb-5"},[i("google-map",{attrs:{name:"destination",coords:t.destinations}})],1)]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"card-columns"},t._l(t.destinations,function(e){return i("div",{key:e._id},[i("edit-destination",{attrs:{destination:e},on:{setDest:t.setDest}})],1)}))])])])},staticRenderFns:[]};var U=i("VU/8")(A,N,!1,function(t){i("yBr5")},"data-v-1e066708",null).exports,E={name:"edit-trip",props:{trip:{type:Object,required:!0}},mounted:function(){this.edit={title:this.trip.title,description:this.trip.description,author:this.trip.author,userId:this.trip.userId,_id:this.trip._id}},data:function(){return{editBool:!1,edit:{title:"",description:"",author:"",userId:""}}},computed:{},methods:{selectActiveTrip:function(t){this.$store.dispatch("selectActiveTrip",t)},deleteTrip:function(t){this.$store.dispatch("deleteTrip",t)},editTrip:function(t){var e={title:t.title,description:t.description,author:t.author,userId:t.userId,_id:t._id};this.$store.dispatch("editTrip",e),this.editBool=!this.editBool},toggleEdit:function(){this.editBool=!this.editBool},updateTrip:function(){this.$emit("setTrip",this.edit)},publishTrip:function(t){this.$store.dispatch("publishTrip",t)}}},P={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit-trip mb-2"},[i("div",{staticClass:"card-body"},[i("router-link",{attrs:{to:{name:"Trip",params:{id:t.trip._id}}},nativeOn:{click:function(e){t.selectActiveTrip(t.trip)}}},[i("h2",{staticClass:"card-title"},[t._v(t._s(t.trip.title))]),t._v(" "),i("p",{staticClass:"card-text"},[t._v(t._s(t.trip.description))])]),t._v(" "),i("div",{staticClass:"mb-2"},[i("button",{staticClass:"btn btn-success",on:{click:function(e){t.toggleEdit()}}},[t._v("Edit")]),t._v(" "),t.editBool?i("form",{staticClass:"form bgform",on:{keyup:t.updateTrip,submit:function(e){e.preventDefault(),t.editTrip(t.edit)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.edit.title,expression:"edit.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" Title",id:"title"},domProps:{value:t.edit.title},on:{input:function(e){e.target.composing||t.$set(t.edit,"title",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.edit.description,expression:"edit.description"}],staticClass:"input mt-2",attrs:{type:"text",name:"description",placeholder:" Description",id:"name"},domProps:{value:t.edit.description},on:{input:function(e){e.target.composing||t.$set(t.edit,"description",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success mb-2 mt-2",attrs:{type:"submit"}},[t._v("Submit")])]):t._e(),t._v(" "),t.trip.published?t._e():i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.publishTrip(t.trip)}}},[t._v("Publish")]),t._v(" "),t.trip.published?i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.publishTrip(t.trip)}}},[t._v("Unpublish")]):t._e(),t._v(" "),i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.deleteTrip(t.trip)}}},[t._v("Cancel")])])],1)])},staticRenderFns:[]};var F={name:"trips",components:{editTrip:i("VU/8")(E,P,!1,function(t){i("ZNEA")},null,null).exports},data:function(){return{}},mounted:function(){},computed:{trips:function(){return this.$store.state.userTrips}},methods:{setTrip:function(t){var e=this.trips.findIndex(function(e){return e._id==t._id});this.trips.splice(e,1,t)}}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"trips mt-2"},[i("div",{staticClass:"row justify-content-center"},t._l(t.trips,function(e){return i("div",{staticClass:"col-md-3 ml-2 mt-3 card",staticStyle:{width:"18rem"}},[i("editTrip",{attrs:{trip:e},on:{setTrip:t.setTrip}})],1)}))])},staticRenderFns:[]};var V={name:"myTrips",components:{trips:i("VU/8")(F,S,!1,function(t){i("H0MZ")},"data-v-358bc73a",null).exports,createTrip:v},mounted:function(){this.$store.state.user._id||this.$router.push({name:"User"}),this.$store.dispatch("getUsersTrips")},data:function(){return{}},computed:{trips:function(){this.$store.state.trips}},methods:{}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"my-trips jumbotron"},[e("create-trip"),this._v(" "),e("trips")],1)},staticRenderFns:[]};var O=i("VU/8")(V,L,!1,function(t){i("A5g2")},"data-v-38cd4608",null).exports,j={name:"Comment",props:{todo:{type:Object,required:!0}},data:function(){return{newComment:!1,comment:{comment:"",photo:""}}},mounted:function(){},computed:{user:function(){return this.$store.state.user}},methods:{addComment:function(t){this.comment.author=this.user.displayName,t.comments.unshift(this.comment),this.$store.dispatch("editTodo",t)},toggleComment:function(){this.newComment=!this.newComment},deleteComment:function(t){console.log(t.comments),t.comments.splice(t.comments._id,1),console.log(t.comments),this.$store.dispatch("deleteComment",t)}}},q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment"},[i("button",{on:{click:t.toggleComment}},[t._v("Add Comment")]),t._v(" "),t.newComment?i("form",{staticClass:"form",on:{submit:function(e){e.preventDefault(),t.addComment(t.todo)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.comment.comment,expression:"comment.comment"}],staticClass:"input",attrs:{type:"text",name:"comment",placeholder:" comment",id:"comment"},domProps:{value:t.comment.comment},on:{input:function(e){e.target.composing||t.$set(t.comment,"comment",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.comment.photo,expression:"comment.photo"}],staticClass:"input",attrs:{type:"url",name:"image",placeholder:" image",id:"image"},domProps:{value:t.comment.photo},on:{input:function(e){e.target.composing||t.$set(t.comment,"photo",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Add")])]):t._e(),t._v(" "),t._l(t.todo.comments,function(e){return i("div",{key:e._id},[i("p",[t._v(t._s(e.comment))]),t._v(" "),i("img",{attrs:{src:e.photo,alt:""}}),t._v(" "),i("p",[t._v("Author: "+t._s(e.author))]),t._v(" "),i("button",{on:{click:function(e){t.deleteComment(t.todo)}}},[t._v("Delete Comment")])])})],2)},staticRenderFns:[]};var B=i("VU/8")(j,q,!1,function(t){i("gw4h")},"data-v-cf73fe0e",null).exports,M={name:"carousel",props:{todo:{type:Object,required:!0}},data:function(){return{activeImage:0,timer:null}},mounted:function(){this.autoSlide(!1)},computed:{},methods:{nextImage:function(){this.autoSlide(),this.activeImage==this.todo.gallery.length-1?this.activeImage=0:this.activeImage++},prevImage:function(){0==this.activeImage?this.activeImage=this.todo.gallery.length-1:this.activeImage--},autoSlide:function(){var t=this;this.timer&&clearInterval(this.timer),this.timer=setInterval(function(){t.nextImage()},5e3)}}},G={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"carousel slide formatCarousel",attrs:{id:"toggleSwitches","data-ride":"carousel","data-interval":"1000"},on:{change:function(e){t.autoSlide()}}},[i("div",{staticClass:"carousel-inner"},t._l(t.todo.gallery,function(e,s){return i("div",{class:{active:s==t.activeImage,"carousel-item":!0}},[i("img",{staticClass:"d-block w-100 img-fluid",staticStyle:{height:"40vh"},attrs:{src:e,alt:""}})])})),t._v(" "),i("span",{on:{click:function(e){t.prevImage()}}},[i("a",{staticClass:"carousel-control-prev",attrs:{href:"#toggleSwitches",role:"button","data-slide":"prev"}},[i("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),t._v(" "),i("span",{staticClass:"sr-only",on:{click:t.prevImage}},[t._v("Previous")])])]),t._v(" "),i("span",{on:{click:function(e){t.nextImage(),t.autoSlide()}}},[t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"carousel-control-next",attrs:{href:"#toggleSwitches",role:"button","data-slide":"next"}},[e("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{staticClass:"sr-only"},[this._v("Next")])])}]};var W={name:"Todos",components:{Comment:B,googleMap:R,carousel:i("VU/8")(M,G,!1,function(t){i("p3TM")},null,null).exports},data:function(){return{isActive:!0,toggle:!1,img:"",todo:{title:"",description:"",gallery:[]}}},mounted:function(){this.$store.state.user._id||this.$router.push({name:"User"}),this.$store.dispatch("getDestTodos",this.$store.state.activeDest._id)},computed:{todos:function(){var t=this.$store.state.userTodos;return console.log(this.$store.state.userTodos,"todos are computing and should be empty for now"),t}},methods:{deleteTodo:function(t){this.$store.dispatch("deleteTodo",t)},editTodo:function(t){t.gallery.unshift(this.img),this.$store.dispatch("editTodo",t)},toggleEdit:function(){this.toggle=!this.toggle}}},H={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"current-todos"},[i("p",[t._v("Fun activities for your destination!")]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("google-map",{attrs:{name:"todos",coords:t.todos}})],1)]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[t._l(t.todos,function(e,s){return i("div",{key:e._id},[i("h4",[t._v(t._s(e.title))]),t._v(" "),i("h5",[t._v(t._s(e.description))]),t._v(" "),i("p",[t._v("Author: "+t._s(e.author))]),t._v(" "),e.gallery.length>0?i("div",[i("carousel",{attrs:{todo:e}})],1):t._e(),t._v(" "),i("button",{on:{click:t.toggleEdit}},[t._v("Edit")]),t._v(" "),t.toggle?i("form",{staticClass:"form",on:{submit:function(i){i.preventDefault(),t.editTodo(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"todo.title"}],staticClass:"input",attrs:{type:"text",name:"comment",placeholder:" comment",id:"comment"},domProps:{value:e.title},on:{input:function(i){i.target.composing||t.$set(e,"title",i.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"todo.description"}],staticClass:"input",attrs:{type:"text",name:"description",placeholder:"description",id:"descroption"},domProps:{value:e.description},on:{input:function(i){i.target.composing||t.$set(e,"description",i.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.img,expression:"img"}],staticClass:"input",attrs:{type:"url",name:"image",placeholder:" image",id:"image"},domProps:{value:t.img},on:{input:function(e){e.target.composing||(t.img=e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Make Change")])]):t._e()])}),t._v(" "),i("comment",{attrs:{todo:t.todo}})],2)])])},staticRenderFns:[]};var Z=i("VU/8")(W,H,!1,function(t){i("69a4")},"data-v-c82d05d4",null).exports,z={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add-todo todo"},[i("div",{staticClass:"find d-flex flex-row"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-control",attrs:{name:"Category"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.category=e.target.multiple?i:i[0]},t.searchTodos]}},[i("option",{attrs:{value:"Select a Category",hidden:""}},[t._v("Select a Category")]),t._v(" "),t._l(t.categories,function(e){return i("option",{domProps:{value:e}},[t._v(t._s(e))])})],2)]),t._v(" "),t.usersTodos.length+t.googleTodos.length>0?i("div",{staticClass:"results"},[i("div",{staticClass:"userResults"},t._l(t.usersTodos,function(e){return i("a",{on:{click:function(i){t.addTodo(e)}}},[i("p",{staticClass:"todo-result"},[t._v(t._s(e.title))])])})),t._v(" "),i("div",{staticClass:"googleResults"},t._l(t.googleTodos,function(e){return i("a",{on:{click:function(i){t.addGoogleTodo(e)}}},[i("p",{staticClass:"todo-result"},[t._v(t._s(e.name))])])}))]):t._e()])},staticRenderFns:[]};var Y={name:"createTodo",data:function(){return{newImg:!1,category:"",todo:{title:"",description:"",img:"",gallery:[],categories:[]},lat:0,long:0}},mounted:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.getPos)},computed:{categories:function(){return this.$store.state.categories}},methods:{toggleImg:function(){this.newImg=!this.newImg},addImg:function(){this.todo.gallery.unshift(this.todo.img),this.todo.img=""},addTodo:function(){var t={title:this.todo.title,description:this.todo.description,gallery:this.todo.gallery,categories:this.todo.categories,lat:this.lat,long:this.long};this.$store.dispatch("addTodo",t),this.todo={title:"",description:"",img:"",gallery:[],categories:[]}},getPos:function(t){this.lat=t.coords.latitude,this.long=t.coords.longitude},addCatergory:function(){this.category&&!this.todo.categories.includes(this.category)&&this.todo.categories.push(this.category)},removeCategory:function(t){this.todo.categories.splice(t,1)}}},K={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"create-todo"},[i("div",[t._v("CreateToDo Component")]),t._v(" "),i("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.addTodo(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.title,expression:"todo.title"}],staticClass:"input",attrs:{type:"text",name:"title",placeholder:" title",id:"email"},domProps:{value:t.todo.title},on:{input:function(e){e.target.composing||t.$set(t.todo,"title",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.description,expression:"todo.description"}],staticClass:"input",attrs:{type:"text",name:"description",placeholder:" description",id:"email"},domProps:{value:t.todo.description},on:{input:function(e){e.target.composing||t.$set(t.todo,"description",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Add")])]),t._v(" "),i("div",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-control",attrs:{name:"Category"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.category=e.target.multiple?i:i[0]}}},[i("option",{attrs:{selected:"",disabled:""}},[t._v("Select a Category")]),t._v(" "),t._l(t.categories,function(e){return i("option",{domProps:{value:e}},[t._v(t._s(e))])})],2),t._v(" "),i("button",{on:{click:t.addCatergory}},[t._v("Add")])]),t._v(" "),i("div",{staticClass:"d-flex align-items-row"},t._l(t.todo.categories,function(e,s){return i("p",{staticClass:"ml-3",staticStyle:{color:"blue"}},[t._v(t._s(e)+"\n      "),i("a",{staticStyle:{color:"red"},on:{click:function(e){t.removeCategory(s)}}},[t._v("x")])])})),t._v(" "),i("button",{on:{click:t.toggleImg}},[t._v("Add image")]),t._v(" "),i("div",{staticClass:"row"},t._l(t.todo.gallery,function(t){return i("div",{staticClass:"col"},[i("img",{attrs:{src:t,alt:""}})])})),t._v(" "),t.newImg?i("form",{on:{submit:function(e){return e.preventDefault(),t.addImg(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.img,expression:"todo.img"}],attrs:{type:"url",name:"img",placeholder:"Image Url",id:"img"},domProps:{value:t.todo.img},on:{input:function(e){e.target.composing||t.$set(t.todo,"img",e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-success",attrs:{type:"submit"}},[t._v("Add")])]):t._e()])},staticRenderFns:[]};var X={mounted:function(){this.$store.dispatch("getDestTodos",this.$route.params.id),this.$store.dispatch("clearResults")},name:"userDestination",components:{todos:Z,addTodo:i("VU/8")({name:"addTodo",data:function(){return{category:"Select a Category"}},mounted:function(){},computed:{categories:function(){return this.$store.state.categories},usersTodos:function(){return this.$store.state.todos},googleTodos:function(){return this.$store.state.googleTodos}},methods:{searchTodos:function(){this.$store.dispatch("findTodos",this.category),this.$store.dispatch("clearResults")},addTodo:function(t){this.$store.dispatch("addTodo",t),this.$store.dispatch("clearResults")},addGoogleTodo:function(t){this.$store.dispatch("addGoogleTodo",t),this.$store.dispatch("clearResults")}}},z,!1,function(t){i("k6TY")},"data-v-dd429cb2",null).exports,createTodo:i("VU/8")(Y,K,!1,function(t){i("79Ws")},"data-v-272ef528",null).exports},data:function(){return{displayAdd:!1,displayCreate:!1}},computed:{currentDest:function(){return this.$store.state.activeDest}},methods:{toggleCreate:function(){this.displayCreate=!this.displayCreate,this.displayAdd=!1},toggleAdd:function(){this.displayAdd=!this.displayAdd,this.displayCreate=!1}}},J={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-destination"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("h3",[t._v(t._s(t.currentDest.title))]),t._v(" "),i("p",[t._v("Author: "+t._s(t.currentDest.author))])])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("button",{staticClass:"btn btn-primary",on:{click:t.toggleCreate}},[t._v("Create New Todo")]),t._v(" "),i("button",{staticClass:"btn btn-success",on:{click:t.toggleAdd}},[t._v("Add Todo")]),t._v(" "),t.displayCreate?i("create-todo"):t._e(),t._v(" "),i("div",{staticClass:"todos"},[t.displayAdd?i("add-todo"):t._e()],1),t._v(" "),i("todos")],1)])])])},staticRenderFns:[]};var Q=i("VU/8")(X,J,!1,function(t){i("hVhV")},"data-v-37076a9e",null).exports;s.a.use(r.a);var tt=new r.a({routes:[{path:"/",name:"Home",component:f},{path:"/login",name:"User",component:b},{path:"/destination",name:"Destination",component:l},{path:"/trip/:id",name:"Trip",component:U},{path:"/mytrips",name:"myTrips",component:O},{path:"/mydestination/:id",name:"myDestination",component:Q},{path:"/todos",name:"ToDos",component:Z}]}),et=i("NYxO"),it=i("mtWM"),st=i.n(it),ot=!window.location.host.includes("localhost")?"https://i-be-trippin.herokuapp.com":"//localhost:3000";s.a.use(et.a);var nt=st.a.create({baseURL:ot,timeout:3e3,withCredentials:!0}),at=new et.a.Store({state:{user:{},apiResults:[],userResults:[{title:"Grand Canyon",formatted_address:"1234 Easy Street"}],activeTrip:{},destinations:[],activeDest:{},categories:["airport","amusement park","aquarium","art gallery","bakery","bank","bar","beauty salon","book store","bowling alley","cafe","campground","car rental","casino","church","city hall","clothing store","convenience store","department store","electronics store","embassy","florist","food","gas station","furniture store","gym","hardware store","hindu temple","home goods store","jewelry store","library","liquor store","locksmith","lodging","meal delivery","mosque","movie rental","movie theater","museum","night club","park","pet store","pharmacy","point of interest","place of worship","restaurant","rv park","school","shoe store","shopping mall","spa","stadium","store","subway station","supermarket","synagogue","train station","travel agency","transit station","zoo"],userTodos:[],googleTodos:[],todos:[],userTrips:[]},mutations:{setUser:function(t,e){t.user=e},addTrip:function(t,e){t.userTrips.unshift(e)},setApiResults:function(t,e){t.apiResults=e},setUserResults:function(t,e){t.userResults=e},setDestinations:function(t,e){t.destinations=e},setActiveDest:function(t,e){t.activeDest=e},setUserTodos:function(t,e){t.userTodos=e},setGoogleTodos:function(t,e){t.googleTodos=e},setNewTodo:function(t,e){t.userTodos.unshift(e)},setComment:function(t,e){var i=t.userTodos.findIndex(function(t){return t._id==e._id});t.userTodos.splice(i,1),t.userTodos.unshift(e)},setUserTrips:function(t,e){t.userTrips=e},setActiveTrip:function(t,e){t.activeTrip=e},setRemoveTodo:function(t,e){var i=t.userTodos.findIndex(function(t){return t._id==e._id});t.userTodos.splice(i,1)},setTodos:function(t,e){t.todos=e},setEditDestination:function(t,e){var i=t.destinations.findIndex(function(t){return t._id==e._id});t.destinations.splice(i,1,e)},setEditTrip:function(t,e){var i=t.userTrips.findIndex(function(t){return t._id==e._id});t.userTrips.splice(i,1,e)}},actions:{login:function(t,e){t.dispatch;var i=t.commit;nt.post("/login",e).then(function(t){tt.push("/"),i("setUser",t)}).catch(function(t){console.log(t.data)})},register:function(t,e){t.dispatch;var i=t.commit;nt.post("/register",e).then(function(t){tt.push("/"),i("setUser",t)}).catch(function(t){console.log(t.data)})},authenticate:function(t,e){var i=t.commit;t.dispatch;nt.get("/authenticate").then(function(t){i("setUser",t.data.data),tt.push("/")}).catch(function(t){console.log(t)})},signOut:function(t){var e=t.commit;t.dispatch,t.state;nt.delete("/logout").then(function(t){e("setUser",{}),tt.push({name:"User"})}).catch(function(t){console.log(t.data)})},findDestination:function(t,e){var i=t.commit,s=t.dispatch;nt.get("/api/locations/"+e).then(function(t){console.log(t),i("setApiResults",t.data),s("getUserResults",t.data)}).catch(function(t){console.log(t)})},getUserResults:function(t,e){var i=t.commit;t.dispatch;console.log(e,"search");var s=e[0];nt.get("/api/destinations/"+s.place_id+"/place").then(function(t){console.log(t.data),i("setUserResults",t.data)}).catch(function(t){console.log(t)})},createTrip:function(t,e){t.dispatch;var i=t.commit,s=t.state;e.author=s.user.displayName,nt.post("/api/trips",e).then(function(t){i("addTrip",t.data)}).catch(function(t){console.log(t)})},deleteTrip:function(t,e){t.commit;var i=t.dispatch;t.state;nt.delete("/api/trips/"+e._id).then(function(t){i("getUsersTrips")}).catch(function(t){console.log(t)})},getUsersTrips:function(t){t.dispatch;var e=t.commit,i=t.state;nt.get("/api/trips/user/"+i.user._id).then(function(t){e("setUserTrips",t.data)}).catch(function(t){console.log(t)})},addDestination:function(t,e){var i=t.dispatch,s=(t.commit,t.state);if(e.geometry)var o={title:e.name,place_id:e.place_id,tripId:s.activeTrip._id,long:e.geometry.location.lng,lat:e.geometry.location.lat,photo:e.photo,author:s.user.displayName};else o={title:e.title,place_id:e.place_id,tripId:s.activeTrip._id,long:e.long,lat:e.lat,photo:e.photo,author:s.user.displayName};nt.post("/api/destinations",o).then(function(t){i("getTripDestinations",t.data.tripId)}).catch(function(t){console.log(t)})},deleteDest:function(t,e){t.commit;var i=t.dispatch;t.state;nt.delete("/api/destinations/"+e._id).then(function(t){console.log(t),i("getTripDestinations",e.tripId)}).catch(function(t){console.log(t)})},getTripDestinations:function(t,e){t.dispatch;var i=t.commit;nt.get("/api/trips/"+e+"/destinations").then(function(t){i("setDestinations",t.data)}).catch(function(t){console.log(t)})},editDest:function(t,e){var i=t.commit;t.dispatch;nt.put("/api/destinations/"+e._id,e).then(function(t){i("setEditDestination",t.data.destination)})},selectActiveDest:function(t,e){t.dispatch;var i=t.commit;console.log("works",e),i("setActiveDest",e)},findTodos:function(t,e){var i=t.dispatch,s=t.commit,o=t.state;nt.get("/api/thingstodo/"+o.activeDest.place_id+"/"+e).then(function(t){s("setTodos",t.data),i("getGoogleTodos",e)}).catch(function(t){console.log(t)})},getGoogleTodos:function(t,e){t.dispatch;var i=t.commit,s=t.state,o={categories:e.replace(" ","_"),coords:s.activeDest.lat+","+s.activeDest.long};nt.post("/api/nearby/places",o).then(function(t){console.log(t.data.results),i("setGoogleTodos",t.data.results)}).catch(function(t){console.log(t)})},addTodo:function(t,e){t.dispatch;var i=t.commit,s=t.state;e.destinationId=s.activeDest._id,e.tripId=s.activeTrip._id,e.author=s.user.displayName,e.place_id=s.activeDest.place_id,nt.post("/api/thingstodo",e).then(function(t){i("setNewTodo",t.data)}).catch(function(t){console.log(t)})},addGoogleTodo:function(t,e){t.dispatch;var i=t.commit,s=t.state,o={place_id:s.activeDest.place_id,title:e.name,categories:e.types,destinationId:s.activeDest._id,tripId:s.activeTrip._id,lat:e.geometry.location.lat,long:e.geometry.location.lng};o.author=s.user.displayName,nt.post("/api/thingstodo",o).then(function(t){i("setNewTodo",t.data)}).catch(function(t){console.log(t)})},selectActiveTrip:function(t,e){t.dispatch;(0,t.commit)("setActiveTrip",e)},getDestTodos:function(t,e){t.dispatch;var i=t.commit;nt.get("/api/destinations/"+e+"/thingstodo").then(function(t){i("setUserTodos",t.data)}).catch(function(t){console.log(t)})},deleteTodo:function(t,e){var i=t.commit,s=(t.dispatch,e);nt.delete("/api/thingstodo/"+e._id).then(function(t){i("setRemoveTodo",s)}).catch(function(t){console.log(t)})},clearResults:function(t){t.dispatch;var e=t.commit;e("setApiResults",[]),e("setUserResults",[]),e("setGoogleTodos",[]),e("setTodos",[])},editTodo:function(t,e){t.dispatch;var i=t.commit;nt.put("/api/thingstodo/"+e._id,e).then(function(t){i("setComment",t.data.thingtodo)}).catch(function(t){console.log(t)})},deleteComment:function(t,e){t.dispatch,t.commit,t.state;nt.put("/api/thingstodo/"+e._id,e).then(function(t){console.log(t.data.thingtodo)})},editTrip:function(t,e){var i=t.commit;t.dispatch;nt.put("/api/trips/"+e._id,e).then(function(t){i("setEditTrip",t.data.trip)})},endDemo:function(t){t.dispatch,t.commit;var e=t.state;e.user._id&&nt.delete("/end-demo/"+e.user._id).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},publishTrip:function(t,e){t.dispatch;var i=t.commit;e.published=!e.published;var s={published:!e.published};nt.put("/api/trip/publish/"+e._id,s).then(function(t){i("setEditTrip",e)}).catch(function(t){console.log(t)})}}});s.a.config.productionTip=!1,new s.a({el:"#app",router:tt,store:at,components:{App:a},template:"<App/>"})},OOZ5:function(t,e){},P7Wb:function(t,e){},R9mz:function(t,e){},UviW:function(t,e){},ZNEA:function(t,e){},gw4h:function(t,e){},hVhV:function(t,e){},k6TY:function(t,e){},krmI:function(t,e){},"l/3M":function(t,e){},lvYX:function(t,e,i){t.exports=i.p+"static/img/whitelogo.0556282.png"},p3TM:function(t,e){},yBr5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.540a2837daa14ef53042.js.map